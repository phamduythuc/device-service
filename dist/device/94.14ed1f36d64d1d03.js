(self.webpackChunkdevice=self.webpackChunkdevice||[]).push([[94],{2094:(L,u,d)=>{"use strict";d.r(u),d.d(u,{DeviceModule:()=>We,MY_FORMATS:()=>ge});var s=d(6814),l=d(2787),o=d(7099),i=d(4076),a=d(9347),c=d(6223),g=d(6676);function v(n){return h=>{const t=h.value;if(null===t)return t;const r=g(n.value),m=g(new Date);return g(t)<r||g(t)>m?{failTime:!0}:null}}var e=d(5879),Z=d(2425),w=d(3680),C=d(2296),A=d(8034),z=d(4170),O=d(617),M=d(4516),F=d(8525);function P(n,h,t,r,m,p,_){try{var b=n[p](_),S=b.value}catch(H){return void t(H)}b.done?h(S):Promise.resolve(S).then(r,m)}function E(n){return function(){var h=this,t=arguments;return new Promise(function(r,m){var p=n.apply(h,t);function _(S){P(p,r,m,_,b,"next",S)}function b(S){P(p,r,m,_,b,"throw",S)}_(void 0)})}}var U=d(6593);function Y(n,h){if(1&n){const t=e.EpF();e.TgZ(0,"ngx-dropzone-remove-badge",1),e.NdJ("click",function(m){e.CHM(t);const p=e.oxw();return e.KtG(p._remove(m))}),e.qZA()}}const D=[[["ngx-dropzone-label"]]],N=["ngx-dropzone-label"],T=["fileInput"];function y(n,h){1&n&&e.Hsn(0,2,["*ngIf","!_hasPreviews"])}const B=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],I=["ngx-dropzone-preview","*","ngx-dropzone-label"];function x(n,h){if(1&n){const t=e.EpF();e.TgZ(0,"ngx-dropzone-remove-badge",2),e.NdJ("click",function(m){e.CHM(t);const p=e.oxw();return e.KtG(p._remove(m))}),e.qZA()}}let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["ngx-dropzone-label"]]}),n})();function J(n){return null!=n&&"false"!=`${n}`}let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(t,r){1&t&&(e.O4$(),e.TgZ(0,"svg"),e._UZ(1,"line",0)(2,"line",1),e.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),n})();var ee=function(n){return n[n.BACKSPACE=8]="BACKSPACE",n[n.DELETE=46]="DELETE",n}(ee||{});let K=(()=>{class n{constructor(t){this.sanitizer=t,this._removable=!1,this.removed=new e.vpe,this.tabIndex=0}set file(t){this._file=t}get file(){return this._file}get removable(){return this._removable}set removable(t){this._removable=J(t)}keyEvent(t){switch(t.keyCode){case ee.BACKSPACE:case ee.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(t){t.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var t=this;return E(function*(){return new Promise((r,m)=>{const p=new FileReader;if(p.onload=_=>{r(_.target.result)},p.onerror=_=>{console.error(`FileReader failed on file ${t.file.name}.`),m(_)},!t.file)return m("No file to read. Please provide a file using the [file] Input property.");p.readAsDataURL(t.file)})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(t,r){1&t&&e.NdJ("keyup",function(p){return r.keyEvent(p)}),2&t&&(e.Ikx("tabindex",r.tabIndex),e.Akn(r.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:N,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(t,r){1&t&&(e.F$t(D),e.Hsn(0),e.YNc(1,Y,1,0,"ngx-dropzone-remove-badge",0)),2&t&&(e.xp6(1),e.Q6J("ngIf",r.removable))},dependencies:[X,s.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),n})(),$=(()=>{class n{parseFileList(t,r,m,p){const _=[],b=[];for(let H=0;H<t.length;H++){const G=t.item(H);this.isAccepted(G,r)?m&&G.size>m?this.rejectFile(b,G,"size"):!p&&_.length>=1?this.rejectFile(b,G,"no_multiple"):_.push(G):this.rejectFile(b,G,"type")}return{addedFiles:_,rejectedFiles:b}}isAccepted(t,r){if("*"===r)return!0;const m=r.split(",").map(S=>S.toLowerCase().trim()),p=t.type.toLowerCase(),_=t.name.toLowerCase();return!!m.find(S=>S.endsWith("/*")?p.split("/")[0]===S.split("/")[0]:S.startsWith(".")?_.endsWith(S):S==p)}rejectFile(t,r,m){const p=r;p.reason=m,t.push(p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),ie=(()=>{class n{constructor(t){this.service=t,this.change=new e.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(t){this._disabled=J(t),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(t){this._multiple=J(t)}get maxFileSize(){return this._maxFileSize}set maxFileSize(t){this._maxFileSize=function se(n){return isNaN(parseFloat(n))||isNaN(Number(n))?null:Number(n)}(t)}get expandable(){return this._expandable}set expandable(t){this._expandable=J(t)}get disableClick(){return this._disableClick}set disableClick(t){this._disableClick=J(t)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(t){this._processDirectoryDrop=J(t)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(t){this.disabled||(this.preventDefault(t),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(t){if(!this.disabled)if(this.preventDefault(t),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const r=t.dataTransfer.items;if(r.length>0){const m=[],p=[];for(let b=0;b<r.length;b++){const S=r[b].webkitGetAsEntry();S.isFile?m.push(t.dataTransfer.files[b]):S.isDirectory&&p.push(S)}const _=new DataTransfer;if(m.forEach(b=>{_.items.add(b)}),!p.length&&_.items.length&&this.handleFileDrop(_.files),p.length){const b=[];for(const S of p)b.push(this.extractFilesFromDirectory(S));Promise.all(b).then(S=>{S.reduce((H,G)=>[...H,...G]).forEach(H=>{_.items.add(H)}),this.handleFileDrop(_.files)})}}}else this.handleFileDrop(t.dataTransfer.files)}extractFilesFromDirectory(t){function r(p){return m.apply(this,arguments)}function m(){return(m=E(function*(p){try{return yield new Promise((_,b)=>p.file(_,b))}catch(_){console.log("Error converting a fileEntry to a File: ",_)}})).apply(this,arguments)}return new Promise((p,_)=>{const b=[],S=t.createReader(),H=()=>{S.readEntries(function(){var G=E(function*(ce){if(ce.length){const Ke=ce.filter(de=>de.isFile);for(const de of Ke){const $e=yield r(de);b.push($e)}H()}else p(b)});return function(ce){return G.apply(this,arguments)}}())};H()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(t){this.handleFileDrop(t.target.files),this._fileInput.nativeElement.value="",this.preventDefault(t)}handleFileDrop(t){const r=this.service.parseFileList(t,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:r.addedFiles,rejectedFiles:r.rejectedFiles,source:this})}preventDefault(t){t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($,2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(t,r,m){if(1&t&&e.Suo(m,K,5),2&t){let p;e.iGM(p=e.CRH())&&(r._previewChildren=p)}},viewQuery:function(t,r){if(1&t&&e.Gf(T,7),2&t){let m;e.iGM(m=e.CRH())&&(r._fileInput=m.first)}},hostVars:8,hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r._onClick()})("dragover",function(p){return r._onDragOver(p)})("dragleave",function(){return r._onDragLeave()})("drop",function(p){return r._onDrop(p)}),2&t&&e.ekj("ngx-dz-disabled",r.disabled)("expandable",r.expandable)("unclickable",r.disableClick)("ngx-dz-hovered",r._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[e._Bn([$])],ngContentSelectors:I,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(t,r){1&t&&(e.F$t(B),e.TgZ(0,"input",0,1),e.NdJ("change",function(p){return r._onFilesSelected(p)}),e.qZA(),e.YNc(2,y,1,0,"ng-content",2),e.Hsn(3),e.Hsn(4,1)),2&t&&(e.Q6J("id",r.id)("multiple",r.multiple)("accept",r.accept)("disabled",r.disabled),e.uIk("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedBy),e.xp6(2),e.Q6J("ngIf",!r._hasPreviews))},dependencies:[s.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),n})(),te=(()=>{class n extends K{constructor(t){super(t),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(t){this._file=t,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(t=>setTimeout(()=>this.imageSrc=t)).catch(t=>console.error(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[e._Bn([{provide:K,useExisting:n}]),e.qOj],ngContentSelectors:N,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,r){1&t&&(e.F$t(D),e._UZ(0,"img",0),e.Hsn(1),e.YNc(2,x,1,0,"ngx-dropzone-remove-badge",1)),2&t&&(e.Q6J("src",r.imageSrc,e.LSH),e.xp6(2),e.Q6J("ngIf",r.removable))},dependencies:[X,s.O5],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),n})(),ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[s.ez]]}),n})();function re(n,h){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Name l\xe0 tr\u01b0\u1eddng b\u0103t bu\u1ed9c "),e.qZA())}function q(n,h){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=h.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Q(n,h){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Type l\xe0 tr\u01b0\u1eddng b\u0103t bu\u1ed9c "),e.qZA())}function W(n,h){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Serial l\xe0 tr\u01b0\u1eddng b\u0103t bu\u1ed9c "),e.qZA())}function oe(n,h){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Date of device acquisition l\xe0 tr\u01b0\u1eddng b\u0103t bu\u1ed9c "),e.qZA())}function fe(n,h){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Date of device acquisition kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n th\u1eddi gian hi\u1ec7n t\u1ea1i "),e.qZA())}function me(n,h){if(1&n){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",24),e.NdJ("removed",function(){const p=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.onRemove(p))}),e.TgZ(1,"ngx-dropzone-label"),e._uU(2),e.qZA()()}if(2&n){const t=h.$implicit;e.Q6J("file",t)("removable",!0),e.xp6(2),e.AsE("",t.name," (",t.type,")")}}function pe(n,h){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=h.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function he(n,h){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Date of device acquisition kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n th\u1eddi gian hi\u1ec7n t\u1ea1i v\xe0 nh\u1ecf h\u01a1n th\u1eddi gian mua "),e.qZA())}function ve(n,h){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=h.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.label," ")}}function _e(n,h){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Sai \u0111\u1ecbnh d\u1ea1ng S\u0110T "),e.qZA())}function Ce(n,h){if(1&n&&(e.ynx(0),e.TgZ(1,"form",6)(2,"div",25)(3,"h2",2),e._uU(4),e.qZA()(),e.TgZ(5,"div",8)(6,"div",14)(7,"mat-label")(8,"span"),e._uU(9,"Handover person "),e.TgZ(10,"sub",9),e._uU(11,"*"),e.qZA()()(),e.TgZ(12,"mat-form-field")(13,"mat-select",26),e.YNc(14,pe,2,2,"mat-option",13),e.qZA()()(),e.TgZ(15,"div",14)(16,"mat-label")(17,"span"),e._uU(18,"Receiver "),e.TgZ(19,"sub",9),e._uU(20,"*"),e.qZA()()(),e.TgZ(21,"mat-form-field"),e._UZ(22,"input",27),e.qZA()()(),e.TgZ(23,"div",8)(24,"div",14)(25,"mat-label")(26,"span"),e._uU(27,"Position "),e.TgZ(28,"sub",9),e._uU(29,"*"),e.qZA()()(),e.TgZ(30,"mat-form-field"),e._UZ(31,"input",28),e.qZA()(),e.TgZ(32,"div",14)(33,"mat-label")(34,"span"),e._uU(35,"Status "),e.TgZ(36,"sub",9),e._uU(37,"*"),e.qZA()()(),e.TgZ(38,"mat-form-field"),e._UZ(39,"input",29),e.qZA()()(),e.TgZ(40,"div",8)(41,"div",14)(42,"mat-label")(43,"span"),e._uU(44,"Date of delivery "),e.TgZ(45,"sub",9),e._uU(46,"*"),e.qZA()()(),e.TgZ(47,"mat-form-field"),e._UZ(48,"input",30)(49,"mat-datepicker-toggle",17)(50,"mat-datepicker",null,18),e.YNc(52,he,2,0,"mat-error",11),e.qZA()(),e.TgZ(53,"div",14)(54,"mat-label")(55,"span"),e._uU(56,"Onsite "),e.TgZ(57,"sub",9),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"mat-form-field")(60,"mat-select",31),e.YNc(61,ve,2,2,"mat-option",13),e.qZA()()()(),e.TgZ(62,"div",8)(63,"div",14)(64,"mat-label")(65,"span"),e._uU(66,"Hotline "),e.TgZ(67,"sub",9),e._uU(68,"*"),e.qZA()()(),e.TgZ(69,"mat-form-field"),e._UZ(70,"input",32),e.qZA(),e.YNc(71,_e,2,0,"mat-error",11),e.qZA(),e.TgZ(72,"div",14)(73,"mat-label")(74,"span"),e._uU(75,"Email "),e.TgZ(76,"sub",9),e._uU(77,"*"),e.qZA()()(),e.TgZ(78,"mat-form-field"),e._UZ(79,"input",33),e.qZA()()(),e.TgZ(80,"div",34)(81,"mat-label"),e._uU(82,"Ghi ch\xfa"),e.qZA(),e.TgZ(83,"mat-form-field",34),e._UZ(84,"textarea",35),e.qZA()()(),e.BQk()),2&n){const t=e.MAs(51),r=e.oxw();let m,p;e.xp6(1),e.Q6J("formGroup",r.formHandOver),e.xp6(3),e.Oqu(r.data.title),e.xp6(10),e.Q6J("ngForOf",r.handover_person),e.xp6(34),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t),e.xp6(3),e.Q6J("ngIf",null==(m=r.formHandOver.get("dateOfDelivery"))?null:m.hasError("failTime")),e.xp6(9),e.Q6J("ngForOf",r.onsite),e.xp6(10),e.Q6J("ngIf",null==(p=r.formHandOver.get("hotline"))?null:p.hasError("pattern"))}}function ye(n,h){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",36)(2,"button",37),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.saveDevice())}),e._uU(3," Save "),e.qZA(),e.TgZ(4,"button",38),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.diaLogRef.close())}),e._uU(5,"cancel"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.checkInvalid())}}let ae=(()=>{class n{constructor(t,r,m,p,_){this.diaLogRef=t,this.data=r,this.formBuilder=m,this.deviceService=p,this.toastrService=_,this.files=[],this.devices=["PC","Laptop","Phone"],this.handover_person=["HR","IT Hepdedk","Manage"],this.onsite=[{id:1,label:"Yes"},{id:0,label:"No"}],this.allocate=!1,this.formGroup=this.formBuilder.group({name:["",c.kI.required],type:["",c.kI.required],serial:["",c.kI.required],deviceAddDate:["",[c.kI.required,n=>n.value>new Date?{errDate:!0}:null]]})}ngOnInit(){this.data&&this.interactiveAction()}interactiveAction(){switch(this.data.action){case"allocate":this.getDataAddDevice(),this.getImageDropzone(),this.formGroup.disable(),this.addControl(),this.data.data.allotment&&this.getDataReceiveDevice(),this.allocate=!0;break;case"edit":this.getDataAddDevice(),this.getImageDropzone();break;case"view":this.formGroup.disable(),this.addControl(),this.formHandOver.disable(),this.allocate=!0,this.getDataAddDevice(),this.getImageDropzone(),this.getDataReceiveDevice()}}addControl(){this.formHandOver=this.formBuilder.group({receiver:["",c.kI.required],status:["",[c.kI.required]],handover_person:["",[c.kI.required]],position:["",[c.kI.required]],dateOfDelivery:[null,[c.kI.required,v(this.formGroup.get("deviceAddDate"))]],email:["",[c.kI.required,c.kI.email]],onsite:["",[c.kI.required]],note:[""],hotline:["",[c.kI.required,c.kI.pattern("(84|0[3|5|7|8|9])+([0-9]{8})\\b")]]})}getDataForm(){this.formGroup.patchValue({name:this.data.data?.name,type:this.data.data?.type,serial:this.data.data?.serial,deviceAddDate:this.data.data?.allotment?.date})}getDataAddDevice(){this.formGroup.patchValue({name:this.data.data?.name,type:this.data.data?.type,serial:this.data.data?.serial,deviceAddDate:this.data.data?.deviceAddDate})}getDataReceiveDevice(){this.formHandOver.patchValue({receiver:this.data.data?.allotment?.receiver,status:this.data.data?.allotment?.status,handover_person:this.data?.data.allotment?.handover_person,position:this.data.data?.allotment?.position,dateOfDelivery:this.data.data?.allotment?.dateOfDelivery,email:this.data.data?.allotment?.email,onsite:this.data.data?.allotment?.onsite,note:this.data.data?.allotment?.note,hotline:this.data.data?.allotment?.hotline})}checkInvalid(){return"new"===this.data.action||"edit"===this.data.action?this.formGroup.invalid:this.formGroup.invalid||this.formHandOver.invalid}getImageDropzone(){console.log(this.data.data),this.data.data?.photo.forEach(t=>{const r=this.deviceService.getUrlImage(t);fetch(r).then(m=>m.blob()).then(m=>{const p=new File([m],t,{type:"image/jpg"});this.files.push(p)})})}addNewDevice(){const t=this.formGroup.value,r=new FormData;r.append("data",JSON.stringify(t));for(const m of this.files)r.append("photo",m);this.deviceService.addDevice(r).subscribe(m=>{this.diaLogRef.close(),this.toastrService.success("Add success")})}editDevice(){const t=this.formGroup.value,r=this.data.data.id,m=new FormData;m.append("data",JSON.stringify(t));for(const p of this.files)m.append("photo",p);this.deviceService.updateDevice(r,m).subscribe(p=>{this.diaLogRef.close(),this.toastrService.success("Add success")})}addAllocateDevice(){this.deviceService.addHandOverStaff(this.data.data.id,this.formHandOver.value).subscribe(m=>{this.diaLogRef.close(),this.toastrService.success("Update success")})}saveDevice(){switch(this.data.action){case"allocate":this.addAllocateDevice();break;case"new":this.addNewDevice();break;case"edit":this.editDevice()}}viewInformation(){}onSelect(t){this.files.push(...t.addedFiles)}onRemove(t){this.files.splice(this.files.indexOf(t),1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.so),e.Y36(a.WI),e.Y36(c.qu),e.Y36(o.U),e.Y36(Z._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-device"]],decls:64,vars:14,consts:[[1,"relative","w-full"],[1,"sticky","z-50","top-0","w-full","px-6","bg-white","py-2","flex","items-center","justify-between","5","border-b-2"],[1,"text-2xl","font-medium"],["mat-icon-button","",3,"click"],[1,"cursor-pointer"],[1,"w-full","p-6","overscroll-y-auto"],[1,"w-full",3,"formGroup"],[1,"w-full","flex","flex-col"],[1,"flex","space-x-3"],[1,"text-2xl","text-red-600"],["matInput","","formControlName","name"],[4,"ngIf"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],[1,"w-1/2","flex","flex-col"],["matInput","","formControlName","serial"],["matInput","","formControlName","deviceAddDate","placeholder","MM/DD/YYYY",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],[1,"w-full","mt-2","mb-5"],["accept","image/jpeg,image/jpg,image/png,image/gif",3,"multiple","disabled","change"],["drop",""],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[3,"value"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[1,"py-2","flex","items-center","justify-between","5","border-b-2","mb-6"],["formControlName","handover_person"],["matInput","","formControlName","receiver"],["matInput","","formControlName","position"],["matInput","","formControlName","status"],["matInput","","formControlName","dateOfDelivery","placeholder","MM/DD/YYYY",3,"matDatepicker"],["formControlName","onsite"],["matInput","","formControlName","hotline"],["matInput","","formControlName","email"],[1,"w-full"],["matInput","","formControlName","note","placeholder","Ex. It makes me feel..."],[1,"w-full","flex","items-center","justify-center","space-x-3"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"],["mat-raised-button","","type","button",1,"",3,"click"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"New Device"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.diaLogRef.close()}),e.TgZ(5,"mat-icon",4),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"mat-label")(13,"span"),e._uU(14,"Name "),e.TgZ(15,"sub",9),e._uU(16,"*"),e.qZA()()(),e.TgZ(17,"mat-form-field"),e._UZ(18,"input",10),e.YNc(19,re,2,0,"mat-error",11),e.qZA()(),e.TgZ(20,"div",7)(21,"mat-label")(22,"span"),e._uU(23,"Type device "),e.TgZ(24,"sub",9),e._uU(25,"*"),e.qZA()()(),e.TgZ(26,"mat-form-field")(27,"mat-select",12),e.YNc(28,q,2,2,"mat-option",13),e.qZA(),e.YNc(29,Q,2,0,"mat-error",11),e.qZA()()(),e.TgZ(30,"div",8)(31,"div",14)(32,"mat-label")(33,"span"),e._uU(34,"Seri "),e.TgZ(35,"sub",9),e._uU(36,"*"),e.qZA()()(),e.TgZ(37,"mat-form-field"),e._UZ(38,"input",15),e.YNc(39,W,2,0,"mat-error",11),e.qZA()(),e.TgZ(40,"div",14)(41,"mat-label")(42,"span"),e._uU(43,"Date of device acquisition "),e.TgZ(44,"sub",9),e._uU(45,"*"),e.qZA()()(),e.TgZ(46,"mat-form-field"),e._UZ(47,"input",16)(48,"mat-datepicker-toggle",17)(49,"mat-datepicker",null,18),e.YNc(51,oe,2,0,"mat-error",11),e.YNc(52,fe,2,0,"mat-error",11),e.qZA()()(),e.TgZ(53,"div",19)(54,"mat-label")(55,"span"),e._uU(56,"Image"),e.qZA()(),e.TgZ(57,"ngx-dropzone",20,21),e.NdJ("change",function(p){return r.onSelect(p)}),e.TgZ(59,"ngx-dropzone-label"),e._uU(60,"Select image!"),e.qZA(),e.YNc(61,me,3,4,"ngx-dropzone-image-preview",22),e.qZA()()()(),e.YNc(62,Ce,85,8,"ng-container",11),e.YNc(63,ye,6,1,"ng-container",11),e.qZA()()),2&t){const m=e.MAs(50);let p,_,b,S,H;e.xp6(8),e.Q6J("formGroup",r.formGroup),e.xp6(11),e.Q6J("ngIf",null==(p=r.formGroup.get("name"))?null:p.hasError("required")),e.xp6(9),e.Q6J("ngForOf",r.devices),e.xp6(1),e.Q6J("ngIf",null==(_=r.formGroup.get("type"))?null:_.hasError("required")),e.xp6(10),e.Q6J("ngIf",null==(b=r.formGroup.get("serial"))?null:b.hasError("required")),e.xp6(8),e.Q6J("matDatepicker",m),e.xp6(1),e.Q6J("for",m),e.xp6(3),e.Q6J("ngIf",null==(S=r.formGroup.get("deviceAddDate"))?null:S.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(H=r.formGroup.get("deviceAddDate"))?null:H.hasError("errDate")),e.xp6(5),e.Q6J("multiple",!0)("disabled","allocate"===r.data.action||"view"===r.data.action),e.xp6(4),e.Q6J("ngForOf",r.files),e.xp6(1),e.Q6J("ngIf",r.allocate),e.xp6(1),e.Q6J("ngIf","view"!==r.data.action)}},dependencies:[s.sg,s.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,w.ey,C.lW,C.RK,A.Mq,A.hl,A.nW,z.KE,z.hX,z.TO,z.R9,O.Hw,M.Nt,F.gD,ie,V,te]}),n})();function be(n,h){1&n&&(e.TgZ(0,"div",8)(1,"p"),e._uU(2,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a thi\u1ebft b\u1ecb n\xe0y"),e.qZA()())}let we=(()=>{class n{constructor(t,r){this.data=t,this.dialogRef=r}ngOnInit(){console.log(this.data)}onConfirm(){"delete"===this.data.action&&this.dialogRef.close("delete")}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.WI),e.Y36(a.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-comfirm-dialog"]],decls:14,vars:2,consts:[[1,"w-full","bg-white","px-6","py-3"],[1,"w-full","flex","items-center","justify-between","border-b-2","py-3"],[1,"text-2xl","font-medium"],["mat-icon-button","",3,"click"],[1,"mt-3"],["class","mb-6",4,"ngIf"],[1,"my-1","w-full","flex","items-center","justify-end","space-x-4"],["mat-raised-button","",3,"click"],[1,"mb-6"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.dialogRef.close()}),e.TgZ(5,"mat-icon"),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"div",4),e.YNc(8,be,3,0,"div",5),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return r.onConfirm()}),e._uU(11,"Confirm"),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return r.dialogRef.close()}),e._uU(13,"Cancel"),e.qZA()()()()),2&t&&(e.xp6(3),e.Oqu(r.data.title),e.xp6(5),e.Q6J("ngIf","delete"===r.data.action))},dependencies:[s.O5,C.lW,C.RK,O.Hw]}),n})();var le=d(1116);const De=["qrcElement"];let xe=(()=>{class n{constructor(t,r){this.renderer=t,this.sanitizer=r,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new e.vpe,this.context=null}ngOnChanges(){var t=this;return E(function*(){yield t.createQRCode()})()}isValidQrCodeText(t){return!1===this.allowEmptyString?!(typeof t>"u"||""===t||"null"===t||null===t):!(typeof t>"u")}toDataURL(t){return new Promise((r,m)=>{(0,le.hz)(this.qrdata,t,(p,_)=>{p?m(p):r(_)})})}toCanvas(t,r){return new Promise((m,p)=>{(0,le.rT)(t,this.qrdata,r,_=>{_?p(_):m("success")})})}toSVG(t){return new Promise((r,m)=>{(0,le.toString)(this.qrdata,t,(p,_)=>{p?m(p):r(_)})})}renderElement(t){for(const r of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,r);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){var t=this;return E(function*(){t.version&&t.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),t.version=40):t.version&&t.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),t.version=1):void 0!==t.version&&isNaN(t.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),t.version=void 0);try{if(!t.isValidQrCodeText(t.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");t.isValidQrCodeText(t.qrdata)&&""===t.qrdata&&(t.qrdata=" ");const r={color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,version:t.version,width:t.width},m=t.imageSrc,p=t.imageHeight||40,_=t.imageWidth||40;switch(t.elementType){case"canvas":{const b=t.renderer.createElement("canvas");t.context=b.getContext("2d"),t.toCanvas(b,r).then(()=>{if(t.ariaLabel&&t.renderer.setAttribute(b,"aria-label",`${t.ariaLabel}`),t.title&&t.renderer.setAttribute(b,"title",`${t.title}`),m&&t.context){t.centerImage=new Image(_,p),m!==t.centerImage.src&&(t.centerImage.src=m),p!==t.centerImage.height&&(t.centerImage.height=p),_!==t.centerImage.width&&(t.centerImage.width=_);const S=t.centerImage;S&&(S.onload=()=>{t.context?.drawImage(S,b.width/2-_/2,b.height/2-p/2,_,p)})}t.renderElement(b),t.emitQRCodeURL(b)}).catch(S=>{console.error("[angularx-qrcode] canvas error:",S)});break}case"svg":{const b=t.renderer.createElement("div");t.toSVG(r).then(S=>{t.renderer.setProperty(b,"innerHTML",S);const H=b.firstChild;t.renderer.setAttribute(H,"height",`${t.width}`),t.renderer.setAttribute(H,"width",`${t.width}`),t.renderElement(H),t.emitQRCodeURL(H)}).catch(S=>{console.error("[angularx-qrcode] svg error:",S)});break}default:{const b=t.renderer.createElement("img");t.toDataURL(r).then(S=>{t.alt&&b.setAttribute("alt",t.alt),t.ariaLabel&&b.setAttribute("aria-label",t.ariaLabel),b.setAttribute("src",S),t.title&&b.setAttribute("title",t.title),t.renderElement(b),t.emitQRCodeURL(b)}).catch(S=>{console.error("[angularx-qrcode] img/url error:",S)})}}}catch(r){console.error("[angularx-qrcode] Error generating QR Code:",r.message)}})()}emitQRCodeURL(t){const r=t.constructor.name;if(r===SVGSVGElement.name){const _=new Blob([t.outerHTML],{type:"image/svg+xml"}),b=URL.createObjectURL(_),S=this.sanitizer.bypassSecurityTrustUrl(b);return void this.qrCodeURL.emit(S)}let m="";r===HTMLCanvasElement.name&&(m=t.toDataURL("image/png")),r===HTMLImageElement.name&&(m=t.src),fetch(m).then(p=>p.blob()).then(p=>URL.createObjectURL(p)).then(p=>this.sanitizer.bypassSecurityTrustUrl(p)).then(p=>{this.qrCodeURL.emit(p)}).catch(p=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+p)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(U.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(t,r){if(1&t&&e.Gf(De,7),2&t){let m;e.iGM(m=e.CRH())&&(r.qrcElement=m.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[e.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,r){1&t&&e._UZ(0,"div",null,0),2&t&&e.Tol(r.cssClass)},encapsulation:2,changeDetection:0}),n})(),Te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),Ee=(()=>{class n{constructor(t,r){this.diaLogRef=t,this.data=r,this.elementType="canvas",this.value="Techiediaries",this.id=0}ngOnInit(){console.log(this.data),this.id=this.data.data?.id}dowloadQrcode(t){let r=null;if(console.log(t),"canvas"===this.elementType?r=t.qrcElement.nativeElement.querySelector("canvas").toDataURL("image/png"):"img"===this.elementType||"url"===this.elementType?r=t.qrcElement.nativeElement.querySelector("img").src:alert("Set elementType to 'canvas', 'img' or 'url'."),r){let m=this.convertBase64ToBlob(r);const p=new Blob([m],{type:"image/png"}),_=window.URL.createObjectURL(p),b=document.createElement("a");b.href=_,b.download="qr-code",b.click()}}printQrcode(){window.print()}convertBase64ToBlob(t){const r=t.split(";base64,"),m=r[0].split(":")[1],p=window.atob(r[1]),_=new Uint8Array(p.length);for(let b=0;b<p.length;++b)_[b]=p.charCodeAt(b);return new Blob([_],{type:m})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.so),e.Y36(a.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-qr-code"]],decls:13,vars:5,consts:[["id","print-section",1,"w-full","h-full","flex-col","justify-between"],[1,"flex","justify-between","py-4","px-6"],[1,"text-2xl","font-semibold"],["mat-raised-button","",1,"text-center",3,"click"],[1,"m-0"],["id","abc",1,"flex","justify-center","items-center","printable-content"],["id","qrcode",3,"qrdata","width","errorCorrectionLevel","elementType","imageSrc"],["parent",""],[1,"absolute","bottom-2","w-full","flex","items-center","justify-end","px-6"],["mat-raised-button","",3,"click"]],template:function(t,r){if(1&t){const m=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"View Qr code"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){e.CHM(m);const _=e.MAs(9);return e.KtG(r.dowloadQrcode(_))}),e.TgZ(5,"mat-icon",4),e._uU(6,"downloading"),e.qZA()()(),e.TgZ(7,"div",5),e._UZ(8,"qrcode",6,7),e.qZA(),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){return r.diaLogRef.close()}),e._uU(12," Cancel "),e.qZA()()()}2&t&&(e.xp6(8),e.Q6J("qrdata","http://localhost:4200/view-detail/"+r.id)("width",300)("errorCorrectionLevel","M")("elementType","canvas")("imageSrc","../../../assets/images/angular-logo.png"))},dependencies:[C.lW,O.Hw,xe]}),n})();var Ie=d(1476),j=d(9538),Ne=d(2596);function Ae(n,h){1&n&&(e.TgZ(0,"th",16),e._uU(1," STT "),e.qZA())}function Me(n,h){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=h.index;e.xp6(1),e.hij(" ",t+1," ")}}function Pe(n,h){1&n&&(e.TgZ(0,"th",16),e._uU(1," Name "),e.qZA())}function Se(n,h){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=h.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ze(n,h){1&n&&(e.TgZ(0,"th",16),e._uU(1," Seri "),e.qZA())}function ze(n,h){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=h.$implicit;e.xp6(1),e.hij(" ",t.serial," ")}}function Be(n,h){1&n&&(e.TgZ(0,"th",16),e._uU(1," Status "),e.qZA())}function ke(n,h){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=h.$implicit;e.xp6(1),e.hij(" ",1===t.status?"\u0110\xe3 b\xe0n giao":"Ch\u01b0a b\xe0n giao"," ")}}function Re(n,h){1&n&&(e.TgZ(0,"th",16),e._uU(1," Type "),e.qZA())}function Le(n,h){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=h.$implicit;e.xp6(1),e.hij(" ",t.type," ")}}function Fe(n,h){1&n&&(e.TgZ(0,"th",16),e._uU(1," Action "),e.qZA())}function Ue(n,h){if(1&n){const t=e.EpF();e.TgZ(0,"td",17)(1,"div",19)(2,"mat-icon",20),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.actionsDevice(p,"qr-code"))}),e._uU(3,"qr_code_scanner"),e.qZA(),e.TgZ(4,"mat-icon",21),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.router.navigate(["view-detail",p.id]))}),e._uU(5,"open_in_full"),e.qZA(),e.TgZ(6,"mat-icon",22),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.deviceAllocation(p))}),e._uU(7,"devices"),e.qZA(),e.TgZ(8,"mat-icon",23),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.actionsDevice(p,"view"))}),e._uU(9,"visibility"),e.qZA(),e.TgZ(10,"mat-icon",24),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.editDevice(p))}),e._uU(11,"edit"),e.qZA(),e.TgZ(12,"mat-icon",21),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.deleteDevice(p))}),e._uU(13,"delete"),e.qZA()()()}}function Oe(n,h){1&n&&e._UZ(0,"tr",25)}function He(n,h){1&n&&e._UZ(0,"tr",26)}const Ye=function(){return[5,10,25,100]},Je=[{path:"",component:(()=>{class n{constructor(t,r,m,p){this.deviceService=t,this.loginService=r,this.diaLog=m,this.router=p,this.pageIndex=0,this.sizeIndex=10,this.devices=[],this.displayColumns=["STT","name","seri","type","status","action"],this.total=0}ngOnInit(){this.getDevices(this.pageIndex,this.sizeIndex),this.loginService.me().subscribe(t=>{})}getDevices(t,r){this.deviceService.getDevice(t,r).subscribe(m=>{this.devices=m.body.response,this.total=m.body.total})}getCurrentPage(t){console.log(t),this.sizeIndex=t.pageSize,this.pageIndex=t.pageIndex,this.getDevices(this.pageIndex,this.sizeIndex)}addDevice(){this.diaLog.open(ae,{data:{title:"new",action:"new"},panelClass:["w-[80%]"]}).afterClosed().subscribe(r=>{this.getDevices(this.pageIndex,this.sizeIndex)})}deviceAllocation(t){this.diaLog.open(ae,{data:{title:"Device allocation",action:"allocate",data:t},panelClass:["w-[80%]","h-[75%]"]}).afterClosed().subscribe(m=>{this.getDevices(this.pageIndex,this.sizeIndex)})}editDevice(t){this.diaLog.open(ae,{data:{title:"Edit infor device",action:"edit",data:t},panelClass:["w-[80%]","h-[75%]"]}).afterClosed().subscribe(m=>{this.getDevices(this.pageIndex,this.sizeIndex)})}actionsDevice(t,r){"qr-code"!==r?this.diaLog.open(ae,{data:{title:"view"===r?"View infor device":"",action:r,data:t},panelClass:["w-[80%]","h-[75%]"]}):this.diaLog.open(Ee,{data:{title:"View QR code",action:r,data:t},panelClass:["w-[40%]","h-[50%]"]})}deleteDevice(t){this.diaLog.open(we,{data:{title:"X\xe1c nh\u1eadn x\xf3a",action:"delete"},panelClass:["w-[35%]"]}).afterClosed().subscribe(m=>{"delete"===m&&this.deviceService.deleteDevice(t.id).subscribe(p=>{this.getDevices(this.pageIndex,this.sizeIndex)})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.U),e.Y36(i.r6),e.Y36(a.uw),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-device"]],decls:27,vars:7,consts:[[1,"box-new-device"],["mat-raised-button","",3,"click"],[1,"box-content"],["mat-table","",1,"w-full","p-3",3,"dataSource"],["matColumnDef","STT"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","","class","long-text",4,"matCellDef"],["matColumnDef","seri"],["matColumnDef","status"],["matColumnDef","type"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"long-text"],[1,"flex","gap-x-2"],["aria-hidden","false","aria-label","Example thumbs up SVG icon","matTooltip","L\u1ea5y qr code","matTooltipPosition","before",1,"cursor-pointer",3,"click"],["aria-hidden","false","aria-label","Example thumbs up SVG icon","matTooltip","Delete","matTooltipPosition","above",1,"cursor-pointer",3,"click"],["aria-hidden","false","aria-label","Example thumbs up SVG icon","matTooltip","Ph\xe2n b\u1ed5 thi\u1ebft b\u1ecb. Quy\u1ec1n ph\xe2n b\u1ed5 d\u01b0\u1edbi quy\u1ec1n qu\u1ea3n l\xfd l\xe0 nh\u1eefng ng\u01b0\u1eddi c\xf3 vai tr\xf2 b\u1ed9 ph\u1eadn cty","matTooltipPosition","above",1,"cursor-pointer",3,"click"],["aria-hidden","false","aria-label","Example thumbs up SVG icon","matTooltip","View detail","matTooltipPosition","above",1,"cursor-pointer",3,"click"],["aria-hidden","false","aria-label","Example thumbs up SVG icon","matTooltip","Edit","matTooltipPosition","above",1,"cursor-pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"button",1),e.NdJ("click",function(){return r.addDevice()}),e._uU(3,"New device"),e.qZA()(),e.TgZ(4,"div",2)(5,"table",3),e.ynx(6,4),e.YNc(7,Ae,2,0,"th",5),e.YNc(8,Me,2,1,"td",6),e.BQk(),e.ynx(9,7),e.YNc(10,Pe,2,0,"th",5),e.YNc(11,Se,2,1,"td",8),e.BQk(),e.ynx(12,9),e.YNc(13,Ze,2,0,"th",5),e.YNc(14,ze,2,1,"td",8),e.BQk(),e.ynx(15,10),e.YNc(16,Be,2,0,"th",5),e.YNc(17,ke,2,1,"td",6),e.BQk(),e.ynx(18,11),e.YNc(19,Re,2,0,"th",5),e.YNc(20,Le,2,1,"td",6),e.BQk(),e.ynx(21,12),e.YNc(22,Fe,2,0,"th",5),e.YNc(23,Ue,14,0,"td",6),e.BQk(),e.YNc(24,Oe,1,0,"tr",13),e.YNc(25,He,1,0,"tr",14),e.qZA(),e.TgZ(26,"mat-paginator",15),e.NdJ("page",function(p){return r.getCurrentPage(p)}),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("dataSource",r.devices),e.xp6(19),e.Q6J("matHeaderRowDef",r.displayColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayColumns),e.xp6(1),e.Q6J("length",r.total)("pageSize",r.sizeIndex)("pageSizeOptions",e.DdM(6,Ye)))},dependencies:[C.lW,O.Hw,Ie.NW,j.BZ,j.fO,j.as,j.w1,j.Dz,j.nj,j.ge,j.ev,j.XQ,j.Gk,Ne.gM],styles:[".box-new-device[_ngcontent-%COMP%]{margin-bottom:1.5rem}.box-content[_ngcontent-%COMP%]{width:100%}"]}),n})()},{path:"print-qrcode",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-print-qr-code"]],decls:0,vars:0,template:function(t,r){}}),n})()}];let qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(Je)]}),n})();var Qe=d(9756),Ve=d(9862),je=d(6467);let Ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const ge={parse:{dateInput:"LL"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}};let We=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:z.o2,useValue:{appearance:"outline"}},{provide:w.sG,useValue:ge}],imports:[s.ez,qe,c.UX,Ve.JF,Qe.q,ne,je.m8,Te,Ge]}),n})()},1116:(L,u,d)=>{const l=d(5994),o=d(8023),i=d(4615),a=d(3810);function c(g,f,v,e,Z){const w=[].slice.call(arguments,1),C=w.length,A="function"==typeof w[C-1];if(!A&&!l())throw new Error("Callback required as last argument");if(!A){if(C<1)throw new Error("Too few arguments provided");return 1===C?(v=f,f=e=void 0):2===C&&!f.getContext&&(e=v,v=f,f=void 0),new Promise(function(z,O){try{const M=o.create(v,e);z(g(M,f,e))}catch(M){O(M)}})}if(C<2)throw new Error("Too few arguments provided");2===C?(Z=v,v=f,f=e=void 0):3===C&&(f.getContext&&typeof Z>"u"?(Z=e,e=void 0):(Z=e,e=v,v=f,f=void 0));try{const z=o.create(v,e);Z(null,g(z,f,e))}catch(z){Z(z)}}u.rT=c.bind(null,i.render),u.hz=c.bind(null,i.renderToDataURL),u.toString=c.bind(null,function(g,f,v){return a.render(g,v)})},5994:L=>{L.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3376:(L,u,d)=>{const s=d(538).getSymbolSize;u.getRowColCoords=function(o){if(1===o)return[];const i=Math.floor(o/7)+2,a=s(o),c=145===a?26:2*Math.ceil((a-13)/(2*i-2)),g=[a-7];for(let f=1;f<i-1;f++)g[f]=g[f-1]-c;return g.push(6),g.reverse()},u.getPositions=function(o){const i=[],a=u.getRowColCoords(o),c=a.length;for(let g=0;g<c;g++)for(let f=0;f<c;f++)0===g&&0===f||0===g&&f===c-1||g===c-1&&0===f||i.push([a[g],a[f]]);return i}},6832:(L,u,d)=>{const s=d(3198),l=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(i){this.mode=s.ALPHANUMERIC,this.data=i}o.getBitsLength=function(a){return 11*Math.floor(a/2)+a%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(a){let c;for(c=0;c+2<=this.data.length;c+=2){let g=45*l.indexOf(this.data[c]);g+=l.indexOf(this.data[c+1]),a.put(g,11)}this.data.length%2&&a.put(l.indexOf(this.data[c]),6)},L.exports=o},2099:L=>{function u(){this.buffer=[],this.length=0}u.prototype={get:function(d){const s=Math.floor(d/8);return 1==(this.buffer[s]>>>7-d%8&1)},put:function(d,s){for(let l=0;l<s;l++)this.putBit(1==(d>>>s-l-1&1))},getLengthInBits:function(){return this.length},putBit:function(d){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),d&&(this.buffer[s]|=128>>>this.length%8),this.length++}},L.exports=u},1904:L=>{function u(d){if(!d||d<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=d,this.data=new Uint8Array(d*d),this.reservedBit=new Uint8Array(d*d)}u.prototype.set=function(d,s,l,o){const i=d*this.size+s;this.data[i]=l,o&&(this.reservedBit[i]=!0)},u.prototype.get=function(d,s){return this.data[d*this.size+s]},u.prototype.xor=function(d,s,l){this.data[d*this.size+s]^=l},u.prototype.isReserved=function(d,s){return this.reservedBit[d*this.size+s]},L.exports=u},5713:(L,u,d)=>{const s=d(6119),l=d(3198);function o(i){this.mode=l.BYTE,"string"==typeof i&&(i=s(i)),this.data=new Uint8Array(i)}o.getBitsLength=function(a){return 8*a},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){for(let a=0,c=this.data.length;a<c;a++)i.put(this.data[a],8)},L.exports=o},6266:(L,u,d)=>{const s=d(7990),l=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];u.getBlocksCount=function(a,c){switch(c){case s.L:return l[4*(a-1)+0];case s.M:return l[4*(a-1)+1];case s.Q:return l[4*(a-1)+2];case s.H:return l[4*(a-1)+3];default:return}},u.getTotalCodewordsCount=function(a,c){switch(c){case s.L:return o[4*(a-1)+0];case s.M:return o[4*(a-1)+1];case s.Q:return o[4*(a-1)+2];case s.H:return o[4*(a-1)+3];default:return}}},7990:(L,u)=>{u.L={bit:1},u.M={bit:0},u.Q={bit:3},u.H={bit:2},u.isValid=function(l){return l&&typeof l.bit<"u"&&l.bit>=0&&l.bit<4},u.from=function(l,o){if(u.isValid(l))return l;try{return function d(s){if("string"!=typeof s)throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return u.L;case"m":case"medium":return u.M;case"q":case"quartile":return u.Q;case"h":case"high":return u.H;default:throw new Error("Unknown EC Level: "+s)}}(l)}catch{return o}}},3190:(L,u,d)=>{const s=d(538).getSymbolSize;u.getPositions=function(i){const a=s(i);return[[0,0],[a-7,0],[0,a-7]]}},7940:(L,u,d)=>{const s=d(538),i=s.getBCHDigit(1335);u.getEncodedBits=function(c,g){const f=c.bit<<3|g;let v=f<<10;for(;s.getBCHDigit(v)-i>=0;)v^=1335<<s.getBCHDigit(v)-i;return 21522^(f<<10|v)}},6910:(L,u)=>{const d=new Uint8Array(512),s=new Uint8Array(256);(function(){let o=1;for(let i=0;i<255;i++)d[i]=o,s[o]=i,o<<=1,256&o&&(o^=285);for(let i=255;i<512;i++)d[i]=d[i-255]})(),u.log=function(o){if(o<1)throw new Error("log("+o+")");return s[o]},u.exp=function(o){return d[o]},u.mul=function(o,i){return 0===o||0===i?0:d[s[o]+s[i]]}},9556:(L,u,d)=>{const s=d(3198),l=d(538);function o(i){this.mode=s.KANJI,this.data=i}o.getBitsLength=function(a){return 13*a},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){let a;for(a=0;a<this.data.length;a++){let c=l.toSJIS(this.data[a]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[a]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),i.put(c,13)}},L.exports=o},9914:(L,u)=>{u.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function s(l,o,i){switch(l){case u.Patterns.PATTERN000:return(o+i)%2==0;case u.Patterns.PATTERN001:return o%2==0;case u.Patterns.PATTERN010:return i%3==0;case u.Patterns.PATTERN011:return(o+i)%3==0;case u.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2==0;case u.Patterns.PATTERN101:return o*i%2+o*i%3==0;case u.Patterns.PATTERN110:return(o*i%2+o*i%3)%2==0;case u.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}}u.isValid=function(o){return null!=o&&""!==o&&!isNaN(o)&&o>=0&&o<=7},u.from=function(o){return u.isValid(o)?parseInt(o,10):void 0},u.getPenaltyN1=function(o){const i=o.size;let a=0,c=0,g=0,f=null,v=null;for(let e=0;e<i;e++){c=g=0,f=v=null;for(let Z=0;Z<i;Z++){let w=o.get(e,Z);w===f?c++:(c>=5&&(a+=c-5+3),f=w,c=1),w=o.get(Z,e),w===v?g++:(g>=5&&(a+=g-5+3),v=w,g=1)}c>=5&&(a+=c-5+3),g>=5&&(a+=g-5+3)}return a},u.getPenaltyN2=function(o){const i=o.size;let a=0;for(let c=0;c<i-1;c++)for(let g=0;g<i-1;g++){const f=o.get(c,g)+o.get(c,g+1)+o.get(c+1,g)+o.get(c+1,g+1);(4===f||0===f)&&a++}return 3*a},u.getPenaltyN3=function(o){const i=o.size;let a=0,c=0,g=0;for(let f=0;f<i;f++){c=g=0;for(let v=0;v<i;v++)c=c<<1&2047|o.get(f,v),v>=10&&(1488===c||93===c)&&a++,g=g<<1&2047|o.get(v,f),v>=10&&(1488===g||93===g)&&a++}return 40*a},u.getPenaltyN4=function(o){let i=0;const a=o.data.length;for(let g=0;g<a;g++)i+=o.data[g];return 10*Math.abs(Math.ceil(100*i/a/5)-10)},u.applyMask=function(o,i){const a=i.size;for(let c=0;c<a;c++)for(let g=0;g<a;g++)i.isReserved(g,c)||i.xor(g,c,s(o,g,c))},u.getBestMask=function(o,i){const a=Object.keys(u.Patterns).length;let c=0,g=1/0;for(let f=0;f<a;f++){i(f),u.applyMask(f,o);const v=u.getPenaltyN1(o)+u.getPenaltyN2(o)+u.getPenaltyN3(o)+u.getPenaltyN4(o);u.applyMask(f,o),v<g&&(g=v,c=f)}return c}},3198:(L,u,d)=>{const s=d(9266),l=d(4139);u.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},u.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},u.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},u.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},u.MIXED={bit:-1},u.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!s.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},u.getBestModeForData=function(a){return l.testNumeric(a)?u.NUMERIC:l.testAlphanumeric(a)?u.ALPHANUMERIC:l.testKanji(a)?u.KANJI:u.BYTE},u.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},u.isValid=function(a){return a&&a.bit&&a.ccBits},u.from=function(a,c){if(u.isValid(a))return a;try{return function o(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return u.NUMERIC;case"alphanumeric":return u.ALPHANUMERIC;case"kanji":return u.KANJI;case"byte":return u.BYTE;default:throw new Error("Unknown mode: "+i)}}(a)}catch{return c}}},81:(L,u,d)=>{const s=d(3198);function l(o){this.mode=s.NUMERIC,this.data=o.toString()}l.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(i){let a,c,g;for(a=0;a+3<=this.data.length;a+=3)c=this.data.substr(a,3),g=parseInt(c,10),i.put(g,10);const f=this.data.length-a;f>0&&(c=this.data.substr(a),g=parseInt(c,10),i.put(g,3*f+1))},L.exports=l},8441:(L,u,d)=>{const s=d(6910);u.mul=function(o,i){const a=new Uint8Array(o.length+i.length-1);for(let c=0;c<o.length;c++)for(let g=0;g<i.length;g++)a[c+g]^=s.mul(o[c],i[g]);return a},u.mod=function(o,i){let a=new Uint8Array(o);for(;a.length-i.length>=0;){const c=a[0];for(let f=0;f<i.length;f++)a[f]^=s.mul(i[f],c);let g=0;for(;g<a.length&&0===a[g];)g++;a=a.slice(g)}return a},u.generateECPolynomial=function(o){let i=new Uint8Array([1]);for(let a=0;a<o;a++)i=u.mul(i,new Uint8Array([1,s.exp(a)]));return i}},8023:(L,u,d)=>{const s=d(538),l=d(7990),o=d(2099),i=d(1904),a=d(3376),c=d(3190),g=d(9914),f=d(6266),v=d(2396),e=d(495),Z=d(7940),w=d(3198),C=d(1642);function F(D,N,T){const y=D.size,B=Z.getEncodedBits(N,T);let I,x;for(I=0;I<15;I++)x=1==(B>>I&1),D.set(I<6?I:I<8?I+1:y-15+I,8,x,!0),D.set(8,I<8?y-I-1:I<9?15-I-1+1:15-I-1,x,!0);D.set(y-8,8,1,!0)}function Y(D,N,T,y){let B;if(Array.isArray(D))B=C.fromArray(D);else{if("string"!=typeof D)throw new Error("Invalid data");{let V=N;if(!V){const J=C.rawSplit(D);V=e.getBestVersionForData(J,T)}B=C.fromString(D,V||40)}}const I=e.getBestVersionForData(B,T);if(!I)throw new Error("The amount of data is too big to be stored in a QR Code");if(N){if(N<I)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+I+".\n")}else N=I;const x=function E(D,N,T){const y=new o;T.forEach(function(k){y.put(k.mode.bit,4),y.put(k.getLength(),w.getCharCountIndicator(k.mode,D)),k.write(y)});const x=8*(s.getSymbolTotalCodewords(D)-f.getTotalCodewordsCount(D,N));for(y.getLengthInBits()+4<=x&&y.put(0,4);y.getLengthInBits()%8!=0;)y.putBit(0);const R=(x-y.getLengthInBits())/8;for(let k=0;k<R;k++)y.put(k%2?17:236,8);return function U(D,N,T){const y=s.getSymbolTotalCodewords(N),I=y-f.getTotalCodewordsCount(N,T),x=f.getBlocksCount(N,T),k=x-y%x,V=Math.floor(y/x),J=Math.floor(I/x),se=J+1,X=V-J,ee=new v(X);let K=0;const $=new Array(x),ie=new Array(x);let te=0;const ue=new Uint8Array(D.buffer);for(let W=0;W<x;W++){const oe=W<k?J:se;$[W]=ue.slice(K,K+oe),ie[W]=ee.encode($[W]),K+=oe,te=Math.max(te,oe)}const ne=new Uint8Array(y);let q,Q,re=0;for(q=0;q<te;q++)for(Q=0;Q<x;Q++)q<$[Q].length&&(ne[re++]=$[Q][q]);for(q=0;q<X;q++)for(Q=0;Q<x;Q++)ne[re++]=ie[Q][q];return ne}(y,D,N)}(N,T,B),R=s.getSymbolSize(N),k=new i(R);return function A(D,N){const T=D.size,y=c.getPositions(N);for(let B=0;B<y.length;B++){const I=y[B][0],x=y[B][1];for(let R=-1;R<=7;R++)if(!(I+R<=-1||T<=I+R))for(let k=-1;k<=7;k++)x+k<=-1||T<=x+k||D.set(I+R,x+k,R>=0&&R<=6&&(0===k||6===k)||k>=0&&k<=6&&(0===R||6===R)||R>=2&&R<=4&&k>=2&&k<=4,!0)}}(k,N),function z(D){const N=D.size;for(let T=8;T<N-8;T++){const y=T%2==0;D.set(T,6,y,!0),D.set(6,T,y,!0)}}(k),function O(D,N){const T=a.getPositions(N);for(let y=0;y<T.length;y++){const B=T[y][0],I=T[y][1];for(let x=-2;x<=2;x++)for(let R=-2;R<=2;R++)D.set(B+x,I+R,-2===x||2===x||-2===R||2===R||0===x&&0===R,!0)}}(k,N),F(k,T,0),N>=7&&function M(D,N){const T=D.size,y=e.getEncodedBits(N);let B,I,x;for(let R=0;R<18;R++)B=Math.floor(R/3),I=R%3+T-8-3,x=1==(y>>R&1),D.set(B,I,x,!0),D.set(I,B,x,!0)}(k,N),function P(D,N){const T=D.size;let y=-1,B=T-1,I=7,x=0;for(let R=T-1;R>0;R-=2)for(6===R&&R--;;){for(let k=0;k<2;k++)if(!D.isReserved(B,R-k)){let V=!1;x<N.length&&(V=1==(N[x]>>>I&1)),D.set(B,R-k,V),I--,-1===I&&(x++,I=7)}if(B+=y,B<0||T<=B){B-=y,y=-y;break}}}(k,x),isNaN(y)&&(y=g.getBestMask(k,F.bind(null,k,T))),g.applyMask(y,k),F(k,T,y),{modules:k,version:N,errorCorrectionLevel:T,maskPattern:y,segments:B}}u.create=function(N,T){if(typeof N>"u"||""===N)throw new Error("No input text");let B,I,y=l.M;return typeof T<"u"&&(y=l.from(T.errorCorrectionLevel,l.M),B=e.from(T.version),I=g.from(T.maskPattern),T.toSJISFunc&&s.setToSJISFunction(T.toSJISFunc)),Y(N,B,y,I)}},2396:(L,u,d)=>{const s=d(8441);function l(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}l.prototype.initialize=function(i){this.degree=i,this.genPoly=s.generateECPolynomial(this.degree)},l.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(i.length+this.degree);a.set(i);const c=s.mod(a,this.genPoly),g=this.degree-c.length;if(g>0){const f=new Uint8Array(this.degree);return f.set(c,g),f}return c},L.exports=l},4139:(L,u)=>{const d="[0-9]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+")(?:.|[\r\n]))+";u.KANJI=new RegExp(l,"g"),u.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),u.BYTE=new RegExp(o,"g"),u.NUMERIC=new RegExp(d,"g"),u.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+l+"$"),a=new RegExp("^"+d+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");u.testKanji=function(f){return i.test(f)},u.testNumeric=function(f){return a.test(f)},u.testAlphanumeric=function(f){return c.test(f)}},1642:(L,u,d)=>{const s=d(3198),l=d(81),o=d(6832),i=d(5713),a=d(9556),c=d(4139),g=d(538),f=d(7206);function v(M){return unescape(encodeURIComponent(M)).length}function e(M,F,P){const E=[];let U;for(;null!==(U=M.exec(P));)E.push({data:U[0],index:U.index,mode:F,length:U[0].length});return E}function Z(M){const F=e(c.NUMERIC,s.NUMERIC,M),P=e(c.ALPHANUMERIC,s.ALPHANUMERIC,M);let E,U;return g.isKanjiModeEnabled()?(E=e(c.BYTE,s.BYTE,M),U=e(c.KANJI,s.KANJI,M)):(E=e(c.BYTE_KANJI,s.BYTE,M),U=[]),F.concat(P,E,U).sort(function(D,N){return D.index-N.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function w(M,F){switch(F){case s.NUMERIC:return l.getBitsLength(M);case s.ALPHANUMERIC:return o.getBitsLength(M);case s.KANJI:return a.getBitsLength(M);case s.BYTE:return i.getBitsLength(M)}}function O(M,F){let P;const E=s.getBestModeForData(M);if(P=s.from(F,E),P!==s.BYTE&&P.bit<E.bit)throw new Error('"'+M+'" cannot be encoded with mode '+s.toString(P)+".\n Suggested mode is: "+s.toString(E));switch(P===s.KANJI&&!g.isKanjiModeEnabled()&&(P=s.BYTE),P){case s.NUMERIC:return new l(M);case s.ALPHANUMERIC:return new o(M);case s.KANJI:return new a(M);case s.BYTE:return new i(M)}}u.fromArray=function(F){return F.reduce(function(P,E){return"string"==typeof E?P.push(O(E,null)):E.data&&P.push(O(E.data,E.mode)),P},[])},u.fromString=function(F,P){const U=function A(M){const F=[];for(let P=0;P<M.length;P++){const E=M[P];switch(E.mode){case s.NUMERIC:F.push([E,{data:E.data,mode:s.ALPHANUMERIC,length:E.length},{data:E.data,mode:s.BYTE,length:E.length}]);break;case s.ALPHANUMERIC:F.push([E,{data:E.data,mode:s.BYTE,length:E.length}]);break;case s.KANJI:F.push([E,{data:E.data,mode:s.BYTE,length:v(E.data)}]);break;case s.BYTE:F.push([{data:E.data,mode:s.BYTE,length:v(E.data)}])}}return F}(Z(F,g.isKanjiModeEnabled())),Y=function z(M,F){const P={},E={start:{}};let U=["start"];for(let Y=0;Y<M.length;Y++){const D=M[Y],N=[];for(let T=0;T<D.length;T++){const y=D[T],B=""+Y+T;N.push(B),P[B]={node:y,lastCount:0},E[B]={};for(let I=0;I<U.length;I++){const x=U[I];P[x]&&P[x].node.mode===y.mode?(E[x][B]=w(P[x].lastCount+y.length,y.mode)-w(P[x].lastCount,y.mode),P[x].lastCount+=y.length):(P[x]&&(P[x].lastCount=y.length),E[x][B]=w(y.length,y.mode)+4+s.getCharCountIndicator(y.mode,F))}}U=N}for(let Y=0;Y<U.length;Y++)E[U[Y]].end=0;return{map:E,table:P}}(U,P),D=f.find_path(Y.map,"start","end"),N=[];for(let T=1;T<D.length-1;T++)N.push(Y.table[D[T]].node);return u.fromArray(function C(M){return M.reduce(function(F,P){const E=F.length-1>=0?F[F.length-1]:null;return E&&E.mode===P.mode?(F[F.length-1].data+=P.data,F):(F.push(P),F)},[])}(N))},u.rawSplit=function(F){return u.fromArray(Z(F,g.isKanjiModeEnabled()))}},538:(L,u)=>{let d;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];u.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return 4*o+17},u.getSymbolTotalCodewords=function(o){return s[o]},u.getBCHDigit=function(l){let o=0;for(;0!==l;)o++,l>>>=1;return o},u.setToSJISFunction=function(o){if("function"!=typeof o)throw new Error('"toSJISFunc" is not a valid function.');d=o},u.isKanjiModeEnabled=function(){return typeof d<"u"},u.toSJIS=function(o){return d(o)}},9266:(L,u)=>{u.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}},495:(L,u,d)=>{const s=d(538),l=d(6266),o=d(7990),i=d(3198),a=d(9266),g=s.getBCHDigit(7973);function v(w,C){return i.getCharCountIndicator(w,C)+4}function e(w,C){let A=0;return w.forEach(function(z){const O=v(z.mode,C);A+=O+z.getBitsLength()}),A}u.from=function(C,A){return a.isValid(C)?parseInt(C,10):A},u.getCapacity=function(C,A,z){if(!a.isValid(C))throw new Error("Invalid QR Code version");typeof z>"u"&&(z=i.BYTE);const F=8*(s.getSymbolTotalCodewords(C)-l.getTotalCodewordsCount(C,A));if(z===i.MIXED)return F;const P=F-v(z,C);switch(z){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);default:return Math.floor(P/8)}},u.getBestVersionForData=function(C,A){let z;const O=o.from(A,o.M);if(Array.isArray(C)){if(C.length>1)return function Z(w,C){for(let A=1;A<=40;A++)if(e(w,A)<=u.getCapacity(A,C,i.MIXED))return A}(C,O);if(0===C.length)return 1;z=C[0]}else z=C;return function f(w,C,A){for(let z=1;z<=40;z++)if(C<=u.getCapacity(z,A,w))return z}(z.mode,z.getLength(),O)},u.getEncodedBits=function(C){if(!a.isValid(C)||C<7)throw new Error("Invalid QR Code version");let A=C<<12;for(;s.getBCHDigit(A)-g>=0;)A^=7973<<s.getBCHDigit(A)-g;return C<<12|A}},4615:(L,u,d)=>{const s=d(4945);u.render=function(a,c,g){let f=g,v=c;typeof f>"u"&&(!c||!c.getContext)&&(f=c,c=void 0),c||(v=function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),f=s.getOptions(f);const e=s.getImageWidth(a.modules.size,f),Z=v.getContext("2d"),w=Z.createImageData(e,e);return s.qrToImageData(w.data,a,f),function l(i,a,c){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}(Z,v,e),Z.putImageData(w,0,0),v},u.renderToDataURL=function(a,c,g){let f=g;return typeof f>"u"&&(!c||!c.getContext)&&(f=c,c=void 0),f||(f={}),u.render(a,c,f).toDataURL(f.type||"image/png",(f.rendererOpts||{}).quality)}},3810:(L,u,d)=>{const s=d(4945);function l(a,c){const g=a.a/255,f=c+'="'+a.hex+'"';return g<1?f+" "+c+'-opacity="'+g.toFixed(2).slice(1)+'"':f}function o(a,c,g){let f=a+c;return typeof g<"u"&&(f+=" "+g),f}u.render=function(c,g,f){const v=s.getOptions(g),e=c.modules.size,Z=c.modules.data,w=e+2*v.margin,C=v.color.light.a?"<path "+l(v.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",A="<path "+l(v.color.dark,"stroke")+' d="'+function i(a,c,g){let f="",v=0,e=!1,Z=0;for(let w=0;w<a.length;w++){const C=Math.floor(w%c),A=Math.floor(w/c);!C&&!e&&(e=!0),a[w]?(Z++,w>0&&C>0&&a[w-1]||(f+=e?o("M",C+g,.5+A+g):o("m",v,0),v=0,e=!1),C+1<c&&a[w+1]||(f+=o("h",Z),Z=0)):v++}return f}(Z,e,v.margin)+'"/>',M='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+'viewBox="0 0 '+w+" "+w+'" shape-rendering="crispEdges">'+C+A+"</svg>\n";return"function"==typeof f&&f(null,M),M}},4945:(L,u)=>{function d(s){if("number"==typeof s&&(s=s.toString()),"string"!=typeof s)throw new Error("Color should be defined as hex string");let l=s.slice().replace("#","").split("");if(l.length<3||5===l.length||l.length>8)throw new Error("Invalid hex color: "+s);(3===l.length||4===l.length)&&(l=Array.prototype.concat.apply([],l.map(function(i){return[i,i]}))),6===l.length&&l.push("F","F");const o=parseInt(l.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:255&o,hex:"#"+l.slice(0,6).join("")}}u.getOptions=function(l){l||(l={}),l.color||(l.color={});const i=l.width&&l.width>=21?l.width:void 0;return{width:i,scale:i?4:l.scale||4,margin:typeof l.margin>"u"||null===l.margin||l.margin<0?4:l.margin,color:{dark:d(l.color.dark||"#000000ff"),light:d(l.color.light||"#ffffffff")},type:l.type,rendererOpts:l.rendererOpts||{}}},u.getScale=function(l,o){return o.width&&o.width>=l+2*o.margin?o.width/(l+2*o.margin):o.scale},u.getImageWidth=function(l,o){const i=u.getScale(l,o);return Math.floor((l+2*o.margin)*i)},u.qrToImageData=function(l,o,i){const a=o.modules.size,c=o.modules.data,g=u.getScale(a,i),f=Math.floor((a+2*i.margin)*g),v=i.margin*g,e=[i.color.light,i.color.dark];for(let Z=0;Z<f;Z++)for(let w=0;w<f;w++){let C=4*(Z*f+w),A=i.color.light;Z>=v&&w>=v&&Z<f-v&&w<f-v&&(A=e[c[Math.floor((Z-v)/g)*a+Math.floor((w-v)/g)]?1:0]),l[C++]=A.r,l[C++]=A.g,l[C++]=A.b,l[C]=A.a}}},7206:L=>{"use strict";var u={single_source_shortest_paths:function(d,s,l){var o={},i={};i[s]=0;var c,g,f,v,e,w,a=u.PriorityQueue.make();for(a.push(s,0);!a.empty();)for(f in v=(c=a.pop()).cost,e=d[g=c.value]||{})e.hasOwnProperty(f)&&(w=v+e[f],(typeof i[f]>"u"||i[f]>w)&&(i[f]=w,a.push(f,w),o[f]=g));if(typeof l<"u"&&typeof i[l]>"u"){var z=["Could not find a path from ",s," to ",l,"."].join("");throw new Error(z)}return o},extract_shortest_path_from_predecessor_list:function(d,s){for(var l=[],o=s;o;)l.push(o),o=d[o];return l.reverse(),l},find_path:function(d,s,l){var o=u.single_source_shortest_paths(d,s,l);return u.extract_shortest_path_from_predecessor_list(o,l)},PriorityQueue:{make:function(d){var o,s=u.PriorityQueue,l={};for(o in d=d||{},s)s.hasOwnProperty(o)&&(l[o]=s[o]);return l.queue=[],l.sorter=d.sorter||s.default_sorter,l},default_sorter:function(d,s){return d.cost-s.cost},push:function(d,s){this.queue.push({value:d,cost:s}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};L.exports=u},6119:L=>{"use strict";L.exports=function(d){for(var s=[],l=d.length,o=0;o<l;o++){var i=d.charCodeAt(o);if(i>=55296&&i<=56319&&l>o+1){var a=d.charCodeAt(o+1);a>=56320&&a<=57343&&(i=1024*(i-55296)+a-56320+65536,o+=1)}i<128?s.push(i):i<2048?(s.push(i>>6|192),s.push(63&i|128)):i<55296||i>=57344&&i<65536?(s.push(i>>12|224),s.push(i>>6&63|128),s.push(63&i|128)):i>=65536&&i<=1114111?(s.push(i>>18|240),s.push(i>>12&63|128),s.push(i>>6&63|128),s.push(63&i|128)):s.push(239,191,189)}return new Uint8Array(s).buffer}}}]);